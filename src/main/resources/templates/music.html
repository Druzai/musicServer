<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="utf-8"/>
    <META NAME="robots" CONTENT="noindex,nofollow">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="icon" th:href="@{/img/favicon.ico}">
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/5.0.1/css/bootstrap.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/main_page.css}"/>

    <title>Работа с музлом | Сервак для музла</title>

    <meta property="og:site_name" content="mc.icomm.pro">
    <meta property="og:title" content="Работа с музлом"/>
    <meta property="og:description" content="Сервак для музла к моду etched"/>
    <meta content="#56d59c" data-react-helmet="true" name="theme-color"/>
</head>
<body>
<nav th:replace="~{parts/navbar :: navbar}"></nav>

<div class="m-3 text-center" style="padding-bottom: 60px">
    <div class="input-group mb-3 justify-content-center">
        <div class="card shadow">
            <div class="card-body">
                <p>Загрузка нового файла:</p>
                <form id="formid" enctype="multipart/form-data" action="#" method="POST">
                    <div class="input-group justify-content-center">
                        <input id="file" class="form-control" type="file" aria-describedby="inputGroupFileAddon04"
                               aria-label="Загрузить" required accept="audio/*, video/*"/>
                        <button class="btn btn-outline-success" type="submit" name="submit" id="inputGroupFileAddon04">
                            <span id="uploadSpin" class="spinner-border spinner-border-sm" role="status"
                                  aria-hidden="true"></span>
                            <span>Отправить файл!</span>
                        </button>
                    </div>
                </form>
                <form id="formUrl" action="#" enctype="application/x-www-form-urlencoded" th:action="@{/api/upload/yt}" method="POST" target="_self">
                    <div class="input-group justify-content-center">
                        <input name="url" class="form-control" type="url" aria-describedby="inputGroupFileAddon04"
                               aria-label="Загрузить" required/>
                        <button class="btn btn-outline-success" type="submit" >Отправить URL</button>
                    </div>
                </form>
                <span id="uploadResult" style="display: none;"></span>
            </div>
        </div>
    </div>
    <div class="input-group mb-3 justify-content-center">
        <div class="card shadow">
            <div class="card-body align-content-center">
                <div class="input-group m-2">
                    <input id="searchBox" placeholder="Поиск файла" type="text" class="form-control">
                    <span class="input-group-btn">
                        <button id="clearA" type="button" class="btn bg-transparent">
                            <svg fill="#000000" height="15px" width="15px" version="1.1" id="Capa_1"
                                 xmlns="http://www.w3.org/2000/svg"
                                 viewBox="0 0 460.775 460.775" xml:space="preserve">
                                    <path d="M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55
                                        c-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55
                                        c-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505
                                        c-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55
                                        l171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719
                                        c6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z"/>
                            </svg>
                        </button>
                    </span>
                </div>
                <button class="btn btn-primary btn-small m-0" id="send"
                        style="border-color: #363535; background-color: #646060; color: #ffffff;"
                        type="button" onclick="refreshFiles()">Обновить список!
                </button>
            </div>
        </div>
    </div>
    <h2>Список отправленных файлов:</h2>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Название</th>
            <th scope="col">Ссылка</th>
            <th scope="col">Действия</th>
        </tr>
        </thead>
        <tbody id="files"></tbody>
    </table>
</div>
<button onclick="topFunction()" id="myBtn" title="К началу страницы">
    <svg fill="#000000" height="50px" width="50px" version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg"
         viewBox="0 0 32 32" xml:space="preserve">
        <path d="M16,2C8.3,2,2,8.3,2,16s6.3,14,14,14s14-6.3,14-14S23.7,2,16,2z M21.7,18.7C21.5,18.9,21.3,19,21,19s-0.5-0.1-0.7-0.3
            L16,14.4l-4.3,4.3c-0.4,0.4-1,0.4-1.4,0s-0.4-1,0-1.4l5-5c0.4-0.4,1-0.4,1.4,0l5,5C22.1,17.7,22.1,18.3,21.7,18.7z"/>
    </svg>
</button>

<footer th:replace="~{parts/footer :: footer}"></footer>
<script type="text/javascript" th:src="@{/webjars/jquery/3.6.1/jquery.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/bootstrap/5.0.1/js/bootstrap.min.js}"></script>
<script type="text/javascript" th:src="@{/js/setActiveNavLink.js}"></script>
<script type="text/javascript" th:src="@{/js/api.js}"></script>
<script type="text/javascript" th:src="@{/js/button.js}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-color/2.1.2/jquery.color.min.js" integrity="sha512-VjRpiWhUqdNa9bwBV7LnlG8CwsCVPenFyOQTSRTOGHw/tjtME96zthh0Vv9Itf3i8w4CkUrdYaS6+dAt1m1YXQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>